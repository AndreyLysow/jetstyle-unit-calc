/* === FORMULA (JetStyle layout) ========================================= */

.formula {
	/* –±–∞–∑–æ–≤—ã–µ —Ä–∞–∑–º–µ—Ä—ã */
	--H: 152px;
	--W-left: 390px;
	--W-mid: 370px;
	--W-ret: 150px;
	--W-au: 105px;
	/* –±—ã–ª–æ 210px ‚Üí –≤ 2 —Ä–∞–∑–∞ –º–µ–Ω—å—à–µ */
	--input-h: 34px;
	--label-h: 18px;
	/* —Ñ–∏–∫—Å–∏—Ä—É–µ–º –≤—ã—Å–æ—Ç—É label, —á—Ç–æ–±—ã –Ω–µ ¬´–ø–ª–∞–≤–∞–ª–∏¬ª —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª–∏ */
	--gap-x: 8px;
	--gap-y: 6px;

	/* —à–∏—Ä–∏–Ω–∞ —Å–∞–º–∏—Ö –∏–Ω–ø—É—Ç–æ–≤ (–¥–ª—è –≤—Å–µ—Ö –∫–∞—Ä—Ç–æ—á–µ–∫) */
	--input-w: 70%;
	/* –ø—Ä–∏ –∂–µ–ª–∞–Ω–∏–∏ –º–æ–∂–Ω–æ –ø–æ–¥—Ä–µ–≥—É–ª–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ —ç—Ç–æ—Ç –ø—Ä–æ—Ü–µ–Ω—Ç */

	display: inline-flex;
	align-items: flex-start;
	gap: var(--gap-x);
	padding: 12px 16px;
	white-space: nowrap;
	box-sizing: border-box;
	font-feature-settings: "tnum" 1;
}

/* –∑–Ω–∞–∫–∏ –∏ —Å–∫–æ–±–∫–∏ */
.op,
.brace {
	display: inline-flex;
	align-items: center;
	justify-content: center;
	height: var(--H);
	min-width: 14px;
	color: #8aa0c8;
	font-weight: 800;
	font-size: 18px;
}

.op {
	color: #4a78e0;
}

/* –æ–±—â–∏–π –∫–∞—Ä–∫–∞—Å */
.group {
	background: #fff;
	border: 1px solid #d9e1ee;
	border-radius: 10px;
	padding: 10px 8px;
	box-sizing: border-box;
	height: var(--H);
}

/* ================= LEFT ================= */
.left {
	width: var(--W-left);
	background: #fff6f6;
	border: 1px solid #ffe0e0;

	display: grid;
	grid-template-columns: 100px 12px 100px 12px 100px;
	align-items: start;
	row-gap: var(--gap-y);
}

/* ¬´–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–µ¬ª –≤—Ä–∞–ø–ø–µ—Ä—ã */
.inputsLeft,
.bottomRow {
	display: contents;
}

/* —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å ¬´/¬ª ‚Äî —Ä–æ–≤–Ω–æ –ø–æ —Ü–µ–Ω—Ç—Ä—É —Å—Ç—Ä–æ–∫–∏ –∏–Ω–ø—É—Ç–∞ */
.sep {
	display: flex;
	align-items: center;
	justify-content: center;

	/* —Å—Ç–∞–≤–∏–º –ø–æ –≤–µ—Ä—Ç–∏–∫–∞–ª–∏ –Ω–∞ —É—Ä–æ–≤–µ–Ω—å –ø–æ–ª—è –≤–≤–æ–¥–∞ */
	height: var(--input-h);
	margin-top: var(--label-h);

	font-weight: 800;
	color: #4a78e0;
	font-size: 16px;
}

/* –ø–æ–¥–ø–∏—Å–∏/–∏—Ç–æ–≥–∏ */
.noteTitle {
	grid-column: 1 / 3;
	font-size: 11px;
	font-weight: 700;
	color: #0b3b6f;
	margin-top: 4px;
}

.loss {
	grid-column: 5 / 6;
	justify-self: end;
	font-size: 11px;
	font-weight: 700;
	color: #e03d3d;
	margin-top: 4px;
}

.noteText {
	grid-column: 1 / -1;
	font-size: 10px;
	color: #6b7c92;
}

/* ================= MID + RET ================= */
.midCombo {
	position: relative;
	display: inline-flex;
	align-items: stretch;
}

.mid {
	width: var(--W-mid);
	background: #f0f6ff;
	border-right: 0;
	border-radius: 10px 0 0 10px;

	display: grid;
	grid-auto-rows: min-content;
	row-gap: var(--gap-y);
}

.inputsMid {
	display: grid;
	grid-template-columns: 150px 12px 150px;
	column-gap: var(--gap-x);
	align-items: start;
}

/* ¬´‚Äì¬ª –ø–æ—Å–µ—Ä–µ–¥–∏–Ω–µ —Å—Ç—Ä–æ–∫–∏ –∏–Ω–ø—É—Ç–∞ */
.innerOp {
	display: flex;
	align-items: center;
	justify-content: center;
	height: var(--input-h);
	margin-top: var(--label-h);
	font-weight: 800;
	color: #8aa0c8;
}

/* –ø–æ–¥–ø–∏—Å—å –º–∞—Ä–∂–∏ –∏ LTV ‚Äî —Ñ–∏–∫—Å–∏—Ä—É–µ–º –ª–∏–Ω–∏—é, —á—Ç–æ–±—ã –Ω–µ ¬´–ø—Ä—ã–≥–∞–ª–æ¬ª */
.subNote {
	font-size: 10px;
	color: #6b7c92;
	line-height: 20px;
}

.ltv {
	display: flex;
	justify-content: space-between;
	align-items: center;
	min-height: 22px;
	/* –¥–µ—Ä–∂–∏–º –≤—ã—Å–æ—Ç—É —Å—Ç—Ä–æ–∫–∏ */
	font-size: 11px;
	font-weight: 600;
	color: #0b3b6f;
}

.noteValue {
	font-weight: 700;
	color: #0b3b6f;
	font-size: 11px;
}

/* ¬´√ó¬ª —Å—Ç—Ä–æ–≥–æ –º–µ–∂–¥—É mid –∏ ret */
.inMul::after {
	content: "√ó";
	position: absolute;
	left: var(--W-mid);
	top: 50%;
	transform: translate(-50%, -50%);
	font-weight: 800;
	color: #4a78e0;
}

.ret {
	width: var(--W-ret);
	background: #f5f7fb;
	border-left: 0;
	border-radius: 0 10px 10px 0;

	display: flex;
	align-items: flex-start;
	padding: 10px;
}

/* ================= PPPU / AU ================= */

.pppuRow {
	display: inline-flex;
	align-items: center;
	gap: 6px;
	height: var(--H);
	margin-top: -5px;
	/* üëà –ø–æ–¥–Ω–∏–º–∞–µ–º –≤–µ—Å—å PPPU-–±–ª–æ–∫ —Ä–æ–≤–Ω–æ –Ω–∞ 5px */
}

.eq {
	color: #4a78e0;
	font-weight: 800;
	margin-inline: 2px 6px;
	font-size: 18px;
	line-height: 1;
}

.pppu {
	display: flex;
	flex-direction: column;
	align-items: flex-start;
	gap: 2px;
	padding: 8px 0;
}

.pppuLabel {
	position: relative;
	top: -5px;
	font-size: 10px;
	color: #6b7c92;
	line-height: 1;
	margin-bottom: 2px;
}

.pppuValue {
	font-weight: 800;
	font-size: 16px;
	color: #2a74ff;
	white-space: nowrap;
	text-align: right;
	line-height: 1.2;
}

/* AU ‚Äî –æ—Å—Ç–∞—ë—Ç—Å—è –∫–∞–∫ –≤ –ø–æ—Å–ª–µ–¥–Ω–µ–π –≤–µ—Ä—Å–∏–∏ */
.au {
	width: calc(var(--W-au) * 2);
	min-width: calc(var(--W-au) * 2);
	height: var(--H);
	align-self: flex-start;

	display: flex;
	flex-direction: column;
	justify-content: flex-start;
	align-items: flex-start;
	gap: 6px;

	background: #fff;
	border: 1px solid #d9e1ee;
	border-radius: 10px;
	padding: 10px 12px;
	box-sizing: border-box;
}

/* –ø–æ–¥–ø–∏—Å—å AU */
.au .label {
	font-size: 10px;
	color: #6b7c92;
	text-align: left;
	line-height: 1.2;
}

/* –∏–Ω–ø—É—Ç AU */
.au .input {
	width: 100%;
	height: 34px;
	font-size: 14px;
	padding: 6px 8px;
	border: 1px solid #d9e1ee;
	border-radius: 8px;
	box-sizing: border-box;
	color: #0f2033;
}

/* –ø–æ–¥–ø–∏—Å—å –ø–æ–¥ AU */
.au .noteText {
	width: 100%;
	white-space: normal;
	word-break: break-word;
	overflow-wrap: anywhere;
	text-align: left;
	font-size: 10px;
	color: #6b7c92;
	line-height: 1.3;
	margin-top: 4px;
}

/* ================= INPUTS ================= */
.box {
	display: flex;
	flex-direction: column;
	gap: 4px;
}

/* —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≤—ã—Å–æ—Ç–∞ label ‚Äî –≤—Å—ë –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç—Å—è —Å—Ç–∞–±–∏–ª—å–Ω–æ */
.label {
	height: var(--label-h);
	line-height: var(--label-h);
	font-size: 10px;
	color: #6b7c92;
	text-align: left;
	margin-left: 2px;
}

.input {
	height: var(--input-h);
	padding: 0 8px;
	font-size: 14px;
	color: #0f2033;
	border: 1px solid #d9e1ee;
	border-radius: 8px;
	background: #fff;
	box-sizing: border-box;
}

/* –µ–¥–∏–Ω–∞—è —à–∏—Ä–∏–Ω–∞ –∏–Ω–ø—É—Ç–æ–≤ —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é */
.left .input,
.mid .input,
.ret .input,
.au .input {
	width: var(--input-w);
	margin-left: 0;
	margin-right: auto;
}

.input:focus {
	outline: 2px solid #2a74ff;
	border-color: #2a74ff;
}

/* –Ω–µ–º–Ω–æ–≥–æ –æ–ø—É—Å–∫–∞–µ–º ¬´–≤–Ω—É—Ç—Ä–µ–Ω–Ω–æ—Å—Ç–∏¬ª, –Ω–µ –ª–æ–º–∞—è grid/flex */
.group,
.au {
	padding-top: 36px;
}

/* ================= MOBILE ================= */
@media (max-width: 420px) {
	.formula {
		--H: auto;
		gap: 6px;
		flex-wrap: wrap;
		white-space: normal;
		align-items: stretch;
	}

	.op,
	.brace {
		display: none;
	}

	.left,
	.midCombo,
	.ret,
	.pppuRow,
	.au {
		width: 100%;
	}

	.left,
	.mid,
	.ret {
		height: auto;
		border-radius: 10px;
		position: relative;
		padding-top: 22px;
	}

	.left::before,
	.mid::before {
		position: absolute;
		left: 10px;
		top: 6px;
		color: #8aa0c8;
		font-weight: 800;
	}

	.left::before {
		content: "‚àí (";
	}

	.mid::before {
		content: "+ (";
	}

	.inMul::after {
		display: none;
	}

	.midCombo::after {
		content: "√ó";
		position: absolute;
		right: 12px;
		top: 6px;
		font-weight: 800;
		color: #8aa0c8;
	}

	.input {
		height: 32px;
		font-size: 13px;
	}

	.label,
	.noteText {
		font-size: 9px;
	}
}

/* --- –¢—É–ª—Ç–∏–ø—ã: –Ω–µ –º–µ–Ω—è–µ–º —Ä–∞—Å–∫–ª–∞–¥–∫—É, –∏–∫–æ–Ω–∫–∞ –≤–Ω–µ –ø–æ—Ç–æ–∫–∞ --- */
/* —á—Ç–æ–±—ã –ø—É–∑—ã—Ä—å–∫–∏ –º–æ–≥–ª–∏ –≤—ã—Ö–æ–¥–∏—Ç—å –Ω–∞—Ä—É–∂—É */
.formula {
	overflow: visible;
}

/* —Ä–æ–¥–∏—Ç–µ–ª—å .box —É–∂–µ –µ—Å—Ç—å ‚Äî –ø—Ä–æ—Å—Ç–æ –¥–∞–¥–∏–º –µ–º—É –∫–æ–Ω—Ç–µ–∫—Å—Ç */
.box {
	position: relative;
}

/* –æ–±—â–∏–π —Å—Ç–∏–ª—å –ø–æ–¥—Å–∫–∞–∑–∫–∏ */
.tip {
	position: absolute;
	left: 0;
	bottom: calc(100% + 8px);
	z-index: 20;
	max-width: 448px;
	padding: 10px 12px;
	background: #fff;
	border: 1px solid #e6edf7;
	border-radius: 8px;
	box-shadow: 0 8px 26px rgba(7, 45, 68, .15);
	color: #0f2033;
	font-size: 12px;
	line-height: 1.35;
	opacity: 0;
	visibility: hidden;
	transform: translateY(4px);
	transition: .16s ease;
	pointer-events: none;

	/* —Å—Ç—Ä–µ–ª–æ—á–∫–∞ */
	&::after {
		content: "";
		position: absolute;
		left: 18px;
		top: 100%;
		border: 7px solid transparent;
		border-top-color: #fff;
		filter: drop-shadow(0 1px 0 #e6edf7);
	}
}

/* –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –ø—Ä–∏ —Ö–æ–≤–µ—Ä–µ –Ω–∞ —Å–∞–º label (–ø–æ–ª–µ/–∑–Ω–∞—á–µ–Ω–∏–µ) */
.box:hover .tip,
.pppuValue:hover .tip,
.au:hover>.tip {
	opacity: 1;
	visibility: visible;
	transform: translateY(0);
}

/* —á—Ç–æ–±—ã PPPU —Ç–æ–∂–µ –±—ã–ª –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º –¥–ª—è –∞–±—Å–æ–ª—é—Ç–Ω–æ–π –ø–æ–¥—Å–∫–∞–∑–∫–∏ */
.pppuValue {
	position: relative;
}

/* AU: –¥–∞—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç –∏ –Ω–µ –∫–ª–∏–ø–∞—Ç—å */
.au {
	position: relative;
	/* <‚Äî –≤–∞–∂–Ω–æ –¥–ª—è –∞–±—Å–æ–ª—é—Ç–Ω–æ–π .tip */
	overflow: visible;
	/* –Ω–∞ –≤—Å—è–∫–∏–π –ø–æ–∂–∞—Ä–Ω—ã–π */
}

/* AU: –ø–æ–¥—Å–∫–∞–∑–∫–∞ –≤—ã—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç—Å—è —Ç–∞–∫ –∂–µ, –∫–∞–∫ —É –∏–Ω–ø—É—Ç–æ–≤ —Å–ª–µ–≤–∞ */
.au>.tip {
	left: 12px;
	/* –Ω–µ –ø—Ä–∏–ª–∏–ø–∞—Ç—å –∫ –∫—Ä–∞—é */
	bottom: calc(100% + 8px);
	/* –Ω–∞–¥ –∫–∞—Ä—Ç–æ—á–∫–æ–π */
}

/* —Å—Ç—Ä–µ–ª–æ—á–∫–∞ –¥–ª—è AU */
.au>.tip::after {
	left: 26px;
	/* —Å–æ–≤–º–µ—Å—Ç–∏—Ç—å —Å–æ —Å–º–µ—â–µ–Ω–∏–µ–º */
}

/* –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ –Ω–∞ label AU, –ø—Ä–∏ —Ñ–æ–∫—É—Å–µ –≤–Ω—É—Ç—Ä–∏ (–∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞) */
.au:hover>.tip,
.au:focus-within>.tip {
	opacity: 1;
	visibility: visible;
	transform: translateY(0);
}